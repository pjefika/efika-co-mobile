<ion-header>
    <ion-navbar>
        <ion-title>Atendimento Digital_ </ion-title>
    </ion-navbar>
</ion-header>
<ion-content padding>
    <div>

        <ion-item>
            <ion-label fixed>Motivo</ion-label>
            <ion-select [(ngModel)]="atendimentoDigital.motivo" (ionChange)="changeMotivos()">
                <ion-option value="ATSIP">ATSIP</ion-option>
                <ion-option value="APTV">APTV</ion-option>

                <ion-option value="ATSIPE">ATSIP Error</ion-option>
                <ion-option value="APTVE">APTV Error</ion-option>
            </ion-select>
        </ion-item>

        <hr>

        <!-- Validação se não atendeu requisitos -->
        <div *ngIf="atendimentoDigital.motivo && !isValidAttrs">
            <table>
                <tbody>
                    <tr>
                        <th>Rede</th>
                        <td [class]="atendimentoDigitalTabelaValidacao.rede ? 'success' : 'error'">
                            {{atendimentoDigitalTabelaValidacao.rede}}</td>
                    </tr>
                    <tr>
                        <th>Tecnologia</th>
                        <td [class]="atendimentoDigitalTabelaValidacao.tecnologia ? 'success' : 'error'">
                            {{atendimentoDigitalTabelaValidacao.tecnologia}}</td>
                    </tr>
                    <tr>
                        <th>Banda Larga Ok</th>
                        <td [class]="atendimentoDigitalTabelaValidacao.bandaLargaOk ? 'success' : 'error'">
                            {{atendimentoDigitalTabelaValidacao.bandaLargaOk}}</td>
                    </tr>
                    <tr>
                        <th>É IP TV</th>
                        <td [class]="atendimentoDigitalTabelaValidacao.isIPTv ? 'success' : 'error'">
                            {{atendimentoDigitalTabelaValidacao.isIPTv}}</td>
                    </tr>
                    <tr>
                        <th>É Tv Hibrida</th>
                        <td [class]="atendimentoDigitalTabelaValidacao.isTvHibrida ? 'success' : 'error'">
                            {{atendimentoDigitalTabelaValidacao.isTvHibrida}}</td>
                    </tr>
                    <tr>
                        <th>É Tv DTH</th>
                        <td [class]="atendimentoDigitalTabelaValidacao.isTvDTH ? 'success' : 'error'">
                            {{atendimentoDigitalTabelaValidacao.isTvDTH}}</td>
                    </tr>
                    <tr>
                        <th>É SIP</th>
                        <td [class]="atendimentoDigitalTabelaValidacao.IsSIP ? 'success' : 'error'">
                            {{atendimentoDigitalTabelaValidacao.IsSIP}}</td>
                    </tr>
                    <tr>
                        <th>É Linha Metalico</th>
                        <td [class]="atendimentoDigitalTabelaValidacao.isLinhaMetalicoy ? 'success' : 'error'">
                            {{atendimentoDigitalTabelaValidacao.isLinhaMetalico}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div *ngIf="atendimentoDigital.motivo && isValidAttrs">

            <ion-item *ngIf="atendimentoDigital.motivo == 'ATSIP' || atendimentoDigital.motivo == 'APTV'">
                <ion-label>Modelo HG</ion-label>
                <ion-input [(ngModel)]="atendimentoDigital.infos.modeloHG"></ion-input>
            </ion-item>

            <ion-item *ngIf="atendimentoDigital.motivo == 'ATSIP' || atendimentoDigital.motivo == 'APTV'">
                <ion-label>Mac HG</ion-label>
                <ion-input [(ngModel)]="atendimentoDigital.infos.macHG" [macMask]
                    pattern=^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$>
                </ion-input>
            </ion-item>

            <!-- Possivel separação para melhor organizar os Forms... -->

            <!-- Form para ATSIP -->
            <ion-item *ngIf="atendimentoDigital.motivo == 'ATSIP'">
                <ion-label>chkATA</ion-label>
                <ion-input [(ngModel)]="atendimentoDigital.infos.chkATA"></ion-input>
            </ion-item>

            <ion-item *ngIf="atendimentoDigital.motivo == 'ATSIP'">
                <ion-label>Modelo ATA</ion-label>
                <ion-input [(ngModel)]="atendimentoDigital.infos.modeloATA"></ion-input>
            </ion-item>

            <ion-item *ngIf="atendimentoDigital.motivo == 'ATSIP'">
                <ion-label>Mac ATA</ion-label>
                <ion-input [(ngModel)]="atendimentoDigital.infos.macATA" [macMask]
                    pattern=^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$></ion-input>
            </ion-item>

            <ion-item *ngIf="atendimentoDigital.motivo == 'ATSIP'">
                <ion-label>Serial ATA</ion-label>
                <ion-input [(ngModel)]="atendimentoDigital.infos.serialATA"></ion-input>
            </ion-item>



            <!-- Form para APTV -->
            <ion-item *ngIf="atendimentoDigital.motivo == 'APTV'">
                <ion-label>chkTVH</ion-label>
                <ion-input [(ngModel)]="atendimentoDigital.infos.chkTVH"></ion-input>
            </ion-item>

            <ion-item *ngIf="atendimentoDigital.motivo == 'APTV'">
                <ion-label>lsIPTV</ion-label>
                <ion-input [(ngModel)]="atendimentoDigital.infos.lsIPTV"></ion-input>
            </ion-item>

            <ion-item *ngIf="atendimentoDigital.motivo == 'APTV'">
                <ion-label>ptIPTV</ion-label>
                <ion-input [(ngModel)]="atendimentoDigital.infos.ptIPTV"></ion-input>
            </ion-item>

            <ion-item *ngIf="atendimentoDigital.motivo == 'APTV'">
                <ion-label>lsTVH</ion-label>
                <ion-input [(ngModel)]="atendimentoDigital.infos.lsTVH"></ion-input>
            </ion-item>

            <ion-item *ngIf="atendimentoDigital.motivo == 'APTV'">
                <ion-label>ptTVH</ion-label>
                <ion-input [(ngModel)]="atendimentoDigital.infos.ptTVH"></ion-input>
            </ion-item>

            <button ion-button block round (click)="setAtendimento()">Enviar</button>
        </div>

    </div>
</ion-content>